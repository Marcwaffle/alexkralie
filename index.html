// Load character JSON
fetch('alex.json')
  .then(response => response.json())
  .then(data => {
    document.getElementById('charName').textContent = data.name;
    document.getElementById('profilePic').src = data.profilePic;
    document.getElementById('profilePic').alt = data.name;
    document.getElementById('charAge').textContent = data.age;
    document.getElementById('charPronouns').textContent = data.pronouns;
    document.getElementById('charAlign').textContent = data.alignment;
    document.getElementById('charJob').textContent = data.occupation;
    document.getElementById('charDesc').textContent = data.physicalDescription;
    document.getElementById('charPersonality').textContent = data.personality;
    document.getElementById('charQuote').textContent = data.quote;
    document.getElementById('charFact').textContent = data.funFact;
    document.getElementById('charBackstory').textContent = data.backstory;
    document.getElementById('theme-song').src = data.themeSong;

    // Compendium
    const compDiv = document.getElementById('charCompendium');
    compDiv.innerHTML = '';
    data.compendium.forEach(char => {
      const card = document.createElement('div');
      card.className = 'character-card';
      card.innerHTML = `<img src="${char.image}" alt="${char.name}"><span>${char.name}</span>`;
      compDiv.appendChild(card);
    });
  });

// Theme toggling (same as before)
const themeToggle = document.getElementById('theme-toggle');
themeToggle.addEventListener('click', () => {
  document.body.classList.toggle('light');
  localStorage.setItem('theme', document.body.classList.contains('light') ? 'light' : 'dark');
});
if (localStorage.getItem('theme') === 'light') {
  document.body.classList.add('light');
}

// Play/pause theme song
let isPlaying = false;
const playBtn = document.getElementById('play-theme');
const audio = document.getElementById('theme-song');
playBtn.addEventListener('click', () => {
  if (!isPlaying) {
    audio.play();
    playBtn.textContent = 'Pause Alex’s Theme';
  } else {
    audio.pause();
    playBtn.textContent = 'Play Alex’s Theme';
  }
  isPlaying = !isPlaying;
});
audio.addEventListener('ended', () => {
  playBtn.textContent = 'Play Alex’s Theme';
  isPlaying = false;
});